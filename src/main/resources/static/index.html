<script type="importmap">
    {
      "imports": {
        "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js"
      }
    }
</script>

<script type="module">
    import { createApp } from 'vue'

    const API_URL = `http://localhost:8080/training`

    createApp({
      data: () => ({
        trainings: null
      }),

      created() {
        // fetch on init
        this.fetchData()
      },

      methods: {
        async fetchData() {
          const url = `${API_URL}`
          this.trainings = await (await fetch(url)).json()
        }
      }
    }).mount('#app')
</script>

<div id="app">
    <h1>Stored Trainings</h1>
    <ul>
        <li v-for="{ title, startDate } in trainings">
            <span class="message">{{ title }} starting on {{ startDate }}</span>
        </li>
    </ul>
</div>